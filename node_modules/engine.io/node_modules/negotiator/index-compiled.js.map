{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["/*!\n * negotiator\n * Copyright(c) 2012 Federico Romero\n * Copyright(c) 2012-2014 Isaac Z. Schlueter\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Cached loaded submodules.\n * @private\n */\n\nvar modules = Object.create(null);\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = Negotiator;\nmodule.exports.Negotiator = Negotiator;\n\n/**\n * Create a Negotiator instance from a request.\n * @param {object} request\n * @public\n */\n\nfunction Negotiator(request) {\n  if (!(this instanceof Negotiator)) {\n    return new Negotiator(request);\n  }\n\n  this.request = request;\n}\n\nNegotiator.prototype.charset = function charset(available) {\n  var set = this.charsets(available);\n  return set && set[0];\n};\n\nNegotiator.prototype.charsets = function charsets(available) {\n  var preferredCharsets = loadModule('charset').preferredCharsets;\n  return preferredCharsets(this.request.headers['accept-charset'], available);\n};\n\nNegotiator.prototype.encoding = function encoding(available) {\n  var set = this.encodings(available);\n  return set && set[0];\n};\n\nNegotiator.prototype.encodings = function encodings(available) {\n  var preferredEncodings = loadModule('encoding').preferredEncodings;\n  return preferredEncodings(this.request.headers['accept-encoding'], available);\n};\n\nNegotiator.prototype.language = function language(available) {\n  var set = this.languages(available);\n  return set && set[0];\n};\n\nNegotiator.prototype.languages = function languages(available) {\n  var preferredLanguages = loadModule('language').preferredLanguages;\n  return preferredLanguages(this.request.headers['accept-language'], available);\n};\n\nNegotiator.prototype.mediaType = function mediaType(available) {\n  var set = this.mediaTypes(available);\n  return set && set[0];\n};\n\nNegotiator.prototype.mediaTypes = function mediaTypes(available) {\n  var preferredMediaTypes = loadModule('mediaType').preferredMediaTypes;\n  return preferredMediaTypes(this.request.headers.accept, available);\n};\n\n// Backwards compatibility\nNegotiator.prototype.preferredCharset = Negotiator.prototype.charset;\nNegotiator.prototype.preferredCharsets = Negotiator.prototype.charsets;\nNegotiator.prototype.preferredEncoding = Negotiator.prototype.encoding;\nNegotiator.prototype.preferredEncodings = Negotiator.prototype.encodings;\nNegotiator.prototype.preferredLanguage = Negotiator.prototype.language;\nNegotiator.prototype.preferredLanguages = Negotiator.prototype.languages;\nNegotiator.prototype.preferredMediaType = Negotiator.prototype.mediaType;\nNegotiator.prototype.preferredMediaTypes = Negotiator.prototype.mediaTypes;\n\n/**\n * Load the given module.\n * @private\n */\n\nfunction loadModule(moduleName) {\n  var module = modules[moduleName];\n\n  if (module !== undefined) {\n    return module;\n  }\n\n  // This uses a switch for static require analysis\n  switch (moduleName) {\n    case 'charset':\n      module = require('./lib/charset');\n      break;\n    case 'encoding':\n      module = require('./lib/encoding');\n      break;\n    case 'language':\n      module = require('./lib/language');\n      break;\n    case 'mediaType':\n      module = require('./lib/mediaType');\n      break;\n    default:\n      throw new Error('Cannot find module \\'' + moduleName + '\\'');\n  }\n\n  // Store to prevent invoking require()\n  modules[moduleName] = module;\n\n  return module;\n}\n"]}